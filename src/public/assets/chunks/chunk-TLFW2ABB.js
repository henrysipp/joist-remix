function Ie(e,t){let[n,r]=e.split("#");if(!n)throw new Error("hydrated() requires a module URL");let i=r||t.name;if(!i)throw new Error('hydrated() requires either an export name in the href (e.g., "/js/module.js#ComponentName") or a named component function');return t.$hydrated=!0,t.$moduleUrl=n,t.$exportName=i,t}function de(e,t,...n){return n.length>0&&(t.children=n),{type:e,props:t,$rmx:!0}}function me(e){let t=[],n=new AbortController,r=new AbortController,i,l=null,o=()=>{throw new Error("scheduleUpdate not implemented")},s={set:d=>{i=d},get:d=>e.getContext(d)},a={id:e.id,update:d=>{d&&t.push(d),o()},queueTask:d=>{t.push(d)},raise:e.raise,frame:e.frame,context:s,signal:r.signal};function u(){return t.splice(0,t.length).map(d=>d.bind(a,n.signal))}function f(d){if(r.signal.aborted)return console.warn("render called after component was removed, potential application memory leak"),[null,[]];if(n.abort(),n=new AbortController,!l){let y=e.type.call(a,d);typeof y=="function"?l=W=>y.call(a,W,n.signal):l=W=>e.type.call(a,W)}return[l(d),u()]}function p(){return r.abort(),u()}function c(d){o=d}function m(){return i}return{render:f,remove:p,setScheduleUpdate:c,frame:e.frame,getContextValue:m}}function w(e){return null}function S(e){return null}function N(e){return null}function O(e){return Object.assign(new EventTarget,{src:"/",replace:ce("replace not implemented"),reload:ce("reload not implemented")},e)}function ce(e){return()=>{throw new Error(e)}}function h(e,t){let n="Framework invariant";if(!e)throw new Error(t?`${n}: ${t}`:n)}function he(e,t,n){let r=e[0]?.parentNode;h(r,"Parent node not found");let i=e.length>0?e[e.length-1].nextSibling:null,l=Math.max(e.length,t.length);for(let o=0;o<l;o++){let s=e[o],a=t[o];if(!s&&a)i?r.insertBefore(a,i):r.appendChild(a);else if(s&&!a)r.removeChild(s);else if(s&&a){let u=ye(s,a,n);u&&(o=t.indexOf(u))}}}function ye(e,t,n){if($(e)&&$(t)){let i=t.textContent||"";e.textContent!==i&&(e.textContent=i);return}if(v(e)&&v(t)){let i=n.pendingRoots.get(t);n.pendingRoots.delete(t),h(i,"missing pending virtual root info");let[l,o]=i;return e.$rmx.render(o),l}if(C(e)&&C(t)){let i=t.data;e.data!==i&&(e.data=i);return}if(E(e)&&E(t)){if(e.tagName!==t.tagName){let i=e.parentNode;i&&i.replaceChild(t,e);return}Le(e,t,n),He(e,t,n);return}let r=e.parentNode;r&&r.replaceChild(t,e)}function Le(e,t,n){let r=e.getAttributeNames(),i=t.getAttributeNames(),l=new Set(i);for(let o of r)l.has(o)||e.removeAttribute(o);for(let o of i){let s=e.getAttribute(o),a=t.getAttribute(o);s!==a&&e.setAttribute(o,a==null?"":String(a))}}function He(e,t,n){let r=Array.from(e.childNodes),i=Array.from(t.childNodes),l=new Map;for(let f=0;f<r.length;f++){let p=r[f];if(E(p)){let c=p.getAttribute("data-key");c!=null&&l.set(c,f)}}let o=new Array(r.length).fill(!1),s=new Array(i.length).fill(-1);for(let f=0;f<i.length;f++){let p=i[f],c=-1;if(E(p)){let m=p.getAttribute("data-key");if(m!=null&&l.has(m)){let d=l.get(m);o[d]||(c=d)}}if(c===-1){let m=f;m<r.length&&!o[m]&&Be(r[m],p)&&(c=m)}c!==-1&&(o[c]=!0),s[f]=c}let a=new Array(i.length);for(let f=0;f<i.length;f++){let p=s[f];if(p!==-1){let c=r[p],m=ye(c,i[f],n);if(m){let d=i.indexOf(m),V=Ve(r,p);for(let y=p;y<=V;y++)o[y]=!0;a[f]=c,a[d]=r[V];for(let y=f+1;y<d;y++)a[y]=void 0;f=d;continue}a[f]=c}else a[f]=i[f]}let u;for(let f=a.length-1;f>=0;f--){let p=a[f];if(!p)continue;let c=u&&u.parentNode===e?u:null;if(v(p)||D(p)){p.parentNode!==e&&e.insertBefore(p,c),u=p;continue}if(p.parentNode===e){let m=c;m===null&&p.nextSibling===null||p.nextSibling===m||e.insertBefore(p,m)}else e.insertBefore(p,c);p.parentNode===e&&(u=p)}for(let f=0;f<r.length;f++)if(!o[f]){let p=r[f];p.parentNode===e&&e.removeChild(p)}}function Be(e,t){return $(e)&&$(t)?!0:E(e)&&E(t)?e.tagName===t.tagName:!!(v(e)&&v(t)||D(e)&&D(t)||C(e)&&C(t))}function Ue(e){return C(e)&&e.data.trim()==="/rmx:h"}function Ve(e,t){for(let n=t+1;n<e.length;n++)if(Ue(e[n]))return n;return t}function $(e){return e.nodeType===Node.TEXT_NODE}function E(e){return e.nodeType===Node.ELEMENT_NODE}function C(e){return e.nodeType===Node.COMMENT_NODE}function v(e){return C(e)&&e.data.trim()==="rmx:h"}function D(e){return C(e)&&e.data.trim()==="/rmx:h"}var We=!1;function z(...e){We&&console.log("DEBUG",...e)}function K(e,t){let n=[],r=[],i=o=>{o||(o=[]),Array.isArray(o)||(o=[o]),Qe(n,o)?(_e(r),r=[],o.length>0&&Je(e,o,r),n=o):Ye(n,o)},l=()=>{_e(r),n=[],r=[]};return t?(i(t),l):{on:i,cleanup:l}}function M(e,t,n){return{type:e,handler:t,options:n}}function ge(e,t){if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i of n)if(e[i]!==t[i])return!1;return!0}function De(e,t){return(n,r)=>{let i=new CustomEvent(t,{bubbles:!0,cancelable:!0,...n});if(r){let l=i.stopPropagation.bind(i);i.stopPropagation=()=>{l(),r.stopPropagation()}}e.dispatchEvent(i)}}function ze(e,t,n){let r=new Set;for(let i of t){if(r.has(i.type))continue;r.add(i.type);let l=De(e,i.type),o=i.factory({dispatch:l,target:e},i.factoryOptions);if(o){let s=Array.isArray(o)?o:[o];n.push(...s)}}}function Ce(e,t,n,r){z("attach",{target:e,eventType:t,descriptors:n});let i=new Set;for(let l of n){let o=new AbortController,s=a=>{if(o.abort(new DOMException("Handler reentered","EventReentry")),o=new AbortController,z("wrappedHandler",{target:e,eventType:t,event:a}),i.has(a)){z("prevented",{target:e,eventType:t,event:a});return}let u=l.handler(a,o.signal);u instanceof Promise&&u.catch(f=>{if(!(f instanceof DOMException&&f.name==="EventReentry"))throw f}),a.defaultPrevented&&(i.add(a),setTimeout(()=>i.delete(a),0))};e.addEventListener(t,s,l.options),r.push(()=>{o.abort(),e.removeEventListener(t,s,l.options)})}}function Ke(e,t,n){let r=new Map;for(let i of t)r.has(i.type)||r.set(i.type,[]),r.get(i.type).push(i);for(let[i,l]of r)Ce(e,i,l,n)}function Xe(e,t,n){let r=new Map;for(let i of t)r.has(i.type)||r.set(i.type,[]),r.get(i.type).push(i);for(let[i,l]of r)Ce(e,i,l,n)}function Je(e,t,n){let{custom:r,standard:i}=Ze(t);ze(e,r,n),Xe(e,r,n),Ke(e,i,n)}function Ze(e){let t=[],n=[];for(let r of e)Ge(r)?t.push(r):n.push(r);return{custom:t,standard:n}}function Ge(e){return e.isCustom===!0}function Qe(e,t){if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.type!==i.type||r.isCustom!==i.isCustom||!ge(r.options,i.options)||!ge(r.factoryOptions,i.factoryOptions))return!0}return!1}function Ye(e,t){for(let n=0;n<t.length;n++)e[n].handler=t[n].handler}function _e(e){for(let t of e)t()}function T(){return new Proxy(function(t,n,r){return M(t,n,r)},{get(e,t){return typeof t=="string"?function(n,r){return M(t,n,r)}:e[t]}})}var be=T(),Pe=T(),et=T(),tt=T(),nt=T();function R(e){return[(r,i)=>({type:e,handler:r,options:i}),(...r)=>{let i=r[0];return new CustomEvent(e,{bubbles:!0,cancelable:!0,...i})}]}function q(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function X(e){return e.startsWith("&")||e.startsWith("@")||e.startsWith(":")||e.startsWith("[")||e.startsWith(".")}function rt(e){if(!e.startsWith("@"))return!1;let t=e.toLowerCase();return t.startsWith("@keyframes")||t.startsWith("@-webkit-keyframes")||t.startsWith("@-moz-keyframes")||t.startsWith("@-o-keyframes")}function it(e){let t=Object.entries(e).sort(([i],[l])=>i.localeCompare(l)),n=JSON.stringify(t),r=0;for(let i=0;i<n.length;i++){let l=n.charCodeAt(i);r=(r<<5)-r+l,r=r&r}return Math.abs(r).toString(36)}function Se(e,t=""){let n=[],r=[],i=[],l=[];for(let[s,a]of Object.entries(e))if(X(s)){if(s.startsWith("@")){if(s.startsWith("@function")){let f=Ne(a);f.trim().length>0?l.push(`${s} {
${F(f,2)}
}`):l.push(`${s} {
}`)}else if(rt(s)){let f=lt(a);f.trim().length>0?l.push(`${s} {
${F(f,2)}
}`):l.push(`${s} {
}`)}else{let f=Se(a,t);f.trim().length>0?i.push(`${s} {
${F(f,2)}
}`):i.push(`${s} {
  ${t} {
  }
}`)}continue}let u="";for(let[f,p]of Object.entries(a))p!=null&&(u+=`    ${q(f)}: ${p};
`);u&&r.push(`  ${s} {
${u}  }`)}else a!=null&&n.push(`  ${q(s)}: ${a};`);let o="";return l.length>0&&(o+=l.join(`
`)),t&&(n.length>0||r.length>0)&&(o+=(o?`
`:"")+`${t} {
`,n.length>0&&(o+=n.join(`
`)+`
`),r.length>0&&(o+=r.join(`
`)+`
`),o+="}"),i.length>0&&(o+=(o?`
`:"")+i.join(`
`)),o}function F(e,t){let n=" ".repeat(t);return e.split(`
`).map(r=>r.length?n+r:r).join(`
`)}function we(e){return typeof e=="object"&&e!==null}function lt(e){if(!we(e))return"";let t=[];for(let[n,r]of Object.entries(e)){if(!we(r))continue;let i=[];for(let[l,o]of Object.entries(r))o!=null&&(X(l)||i.push(`  ${q(l)}: ${o};`));i.length>0?t.push(`${n} {
${i.join(`
`)}
}`):t.push(`${n} {
}`)}return t.join(`
`)}function Ne(e){let t=[],n=[];for(let[i,l]of Object.entries(e))if(X(i))if(i.startsWith("@")){let o=Ne(l);o.trim().length>0?n.push(`${i} {
${F(o,2)}
}`):n.push(`${i} {
}`)}else continue;else l!=null&&t.push(`  ${q(i)}: ${l};`);let r="";return t.length>0&&(r+=t.join(`
`)),n.length>0&&(r+=(r?`
`:"")+n.join(`
`)),r}function j(e,t){if(Object.keys(e).length===0)return{className:"",css:""};let n=it(e),r=`rmx-${n}`,i=t.get(n);if(i)return i;let l=Se(e,`.${r}`),o={className:r,css:l};return t.set(n,o),o}function J(e="rmx"){let t=new CSSStyleSheet;document.adoptedStyleSheets.push(t);let n=new Map,r=new Set;function i(s){return n.has(s)}function l(s,a){r.has(s)||(r.add(s),t.insertRule(`@layer ${e} { ${a} }`))}function o(s){}return{insert:l,remove:o,has:i}}var ot=0,Q=Symbol("TEXT_NODE"),Oe="http://www.w3.org/2000/svg",at="http://www.w3.org/1999/xlink",Ee="http://www.w3.org/XML/1998/namespace",[ft,st]=R("rmx:connect"),[ut,pt]=R("rmx:disconnect");var xe=new Map,Ae=typeof window<"u"?J():null;function ne(){let e=new Map,t=[];function n(r,i){let l=r._parent;for(;l;){if(U(l)&&i.has(l))return!0;l=l._parent}return!1}return{enqueue(r,i,l){e.set(r,[i,l]),queueMicrotask(()=>this.dequeue())},enqueueTasks(r){t.push(...r),queueMicrotask(()=>this.dequeue())},dequeue(){let r=new Map(e);if(e.clear(),r.size>0){let i=Array.from(r);for(let[l,[o,s]]of i){if(n(l,r))continue;let a=l._handle,u=l._content,f=l._parent;P(a,u,l,o,a.frame,this,f,s)}}if(t.length>0){for(let i of t)i();t=[]}}}}var ct=Symbol("ROOT_VNODE");function re([e,t],n={}){let r=null,i=n.frame??O(),l=n.scheduler??ne(),o=t.parentNode;h(o,"Expected parent node"),h(t.parentNode===o,"Boundaries must share parent");let s=e.nextSibling;return{render(a){let u=x(a);H(r,u,o,i,l,{type:ct},t,s),r=u,s=null},remove(){r=null},flush(){l.dequeue()}}}function Z(e){return"children"in e.props?Array.isArray(e.props.children)?e.props.children.flat(1/0).map(x):[x(e.props.children)]:[]}function x(e){if(e==null||typeof e=="boolean")return{type:Q,_text:""};if(typeof e=="string"||typeof e=="number"||typeof e=="bigint")return{type:Q,_text:String(e)};if(Array.isArray(e))return{type:S,_children:e.flat(1/0).map(x)};if(e.type===S)return{type:S,_children:Z(e)};if(e.type===N)return{type:N,_fallback:e.props.fallback,_children:Z(e)};if(At(e)){let t=Z(e);return{type:e.type,props:e.props,_children:t}}h(!1,"Unexpected RemixNode")}function H(e,t,n,r,i,l,o,s){if(t._parent=l,e===null){_(t,n,r,i,l,o,s);return}if(e.type!==t.type){$e(e,t,n,r,i,l,o);return}if(ae(e)&&oe(t)){wt(e,t,i,l);return}if(se(e)&&fe(t)){mt(e,t,n,r,i,l);return}if(U(e)&&B(t)){Me(e,t,r,i,n,l);return}if(A(e)&&A(t)){I(e._children,t._children,n,r,i,l,void 0,o);return}if(L(e)&&L(t)){dt(e,t,n,r,i,l);return}if(e.type===w&&t.type===w)throw new Error("TODO: Frame diff not implemented");h(!1,"Unexpected diff case")}function dt(e,t,n,r,i,l){if(e._tripped){$e(e,t,n,r,i,l);return}let o=[];try{for(let s=0;s<e._children.length;s++){let a=e._children[s];H(a,t._children[s],n,r,i,l),o.unshift(a)}k(e,{_parent:l,_tripped:!1,_added:o})}catch(s){for(let f of o)g(f,n,i);let a=le(t,s),u=b(e)||ue(e,l)||void 0;_(a,n,r,i,l,u),k(e,{_parent:l,_tripped:!0,_added:[a]})}}function $e(e,t,n,r,i,l,o){o=o||b(e)||ue(e,l)||void 0,_(t,n,r,i,l,o),g(e,n,i)}function mt(e,t,n,r,i,l){I(e._children,t._children,e._dom,r,i,t),Y(e.props,t.props,e._dom);let o={_dom:e._dom,_parent:l,_events:e._events};te(t,o,i,n,r)}function ht(e,t,n){let r=e.css?j(e.css,xe).className:"",{className:i,css:l}=t.css?j(t.css,xe):{className:"",css:""};r!==i&&(r&&(n.classList.remove(r),Ae.remove(r)),l&&i&&(n.classList.add(i),Ae.insert(i,l)))}function Y(e,t,n){let r=n.namespaceURI===Oe;(t.css||e.css)&&ht(e,t,n);for(let i in e)if(!Te(i)&&(!(i in t)||t[i]==null)){if(ve(n,i,r))try{n[i]="";continue}catch{}let{ns:l,attr:o}=ke(i,r);l?n.removeAttributeNS(l,o):n.removeAttribute(o)}for(let i in t){if(Te(i))continue;let l=t[i];if(l==null)continue;if(e[i]!==l){let{ns:s,attr:a}=ke(i,r);if(a==="style"&&typeof l=="object"&&l&&!Array.isArray(l)){n.setAttribute("style",_t(l));continue}if(ve(n,i,r))try{n[i]=l??"";continue}catch{}if(typeof l=="function")continue;let u=i.startsWith("aria-")||i.startsWith("data-");if(l!=null&&(l!==!1||u)){let f=i==="popover"&&l===!0?"":String(l);s?n.setAttributeNS(s,a,f):n.setAttribute(a,f)}else s?n.removeAttributeNS(s,a):n.removeAttribute(a)}}}var yt=new Set(["width","height","href","list","form","tabIndex","download","rowSpan","colSpan","role","popover"]);function ve(e,t,n){return n||yt.has(t)?!1:t in e}function ie(e){return L(e)&&e._added!=null&&e._tripped!=null}function B(e){return typeof e.type=="function"&&e.type!==w}function U(e){return B(e)&&e._content!==void 0}function Te(e){return e==="children"||e==="key"||e==="on"||e==="css"}var gt=new Set(["z-index","opacity","flex-grow","flex-shrink","flex-order","grid-area","grid-row","grid-column","font-weight","line-height","order","orphans","widows","zoom","columns","column-count"]);function _t(e){let t=[];for(let[n,r]of Object.entries(e)){if(r==null||typeof r=="boolean"||typeof r=="number"&&!Number.isFinite(r))continue;let i=n.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`),o=typeof r=="number"&&r!==0&&!gt.has(i)&&!i.startsWith("--")?`${r}px`:Array.isArray(r)?r.join(", "):String(r);t.push(`${i}: ${o};`)}return t.join(" ")}function Ct(e){let t=e;for(;t;){if(typeof t.type=="string"){if(t.type==="foreignObject")return!1;if(t.type==="svg")return!0}t=t._parent}return!1}function ke(e,t){return e.startsWith("aria-")||e.startsWith("data-")?{attr:e}:t?e==="xlinkHref"?{ns:at,attr:"xlink:href"}:e==="xmlLang"?{ns:Ee,attr:"xml:lang"}:e==="xmlSpace"?{ns:Ee,attr:"xml:space"}:e==="viewBox"||e==="preserveAspectRatio"||e==="gradientUnits"||e==="gradientTransform"||e==="patternUnits"||e==="patternTransform"||e==="clipPathUnits"||e==="maskUnits"||e==="maskContentUnits"?{attr:e}:{attr:bt(e)}:e==="className"?{attr:"class"}:e==="htmlFor"?{attr:"for"}:e==="tabIndex"?{attr:"tabindex"}:e==="acceptCharset"?{attr:"accept-charset"}:e==="httpEquiv"?{attr:"http-equiv"}:{attr:e.toLowerCase()}}function bt(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/_/g,"-").toLowerCase()}function wt(e,t,n,r){e._text!==t._text&&(e._dom.textContent=t._text),ee(t,{_dom:e._dom,_parent:r})}function G(...e){console.error("Hydration mismatch:",...e)}function _(e,t,n,r,i,l,o){e._parent=i,o=vt(o??null);let s=l?a=>t.insertBefore(a,l):a=>t.appendChild(a);if(oe(e)){if(o instanceof Text)return ee(e,{_dom:o,_parent:i}),o.data!==e._text&&(G("text mismatch",o.data,e._text),o.data=e._text),o.nextSibling;let a=document.createTextNode(e._text);return ee(e,{_dom:a,_parent:i}),s(a),o}if(fe(e)){if(o instanceof Element)if(o.tagName.toLowerCase()===e.type){Y({},e.props,o),te(e,{_dom:o,_parent:i},r,t,n);let f=o.firstChild,p=I(null,e._children,o,n,r,e,f);return p&&G("excess",p),o.nextSibling}else G("tag",o.tagName.toLowerCase(),e.type),o.remove(),o=void 0;let u=Ct(i)||e.type==="svg"?document.createElementNS(Oe,e.type):document.createElement(e.type);return Y({},e.props,u),I(null,e._children,u,n,r,e),te(e,{_dom:u,_parent:i},r,t,n),s(u),o}if(A(e)){for(let a of e._children)o=_(a,t,n,r,i,l,o);return o}if(L(e)){let a=[];try{for(let u of e._children)_(u,t,n,r,e,l),a.unshift(u);k(e,{_parent:i,_tripped:!1,_added:a})}catch(u){let f=le(e,u);for(let p of a)g(p,t,r);_(f,t,n,r,e,l),k(e,{_parent:i,_tripped:!0,_added:[f]})}return}if(B(e))return Me(null,e,n,r,t,i,l,o),o;if(e.type===w)throw new Error("TODO: Frame insert not implemented");if(e.type===N)throw new Error("TODO: Catch insert not implemented");h(!1,"Unexpected node type")}function P(e,t,n,r,i,l,o,s,a){let u=n.props.on?Array.isArray(n.props.on)?n.props.on:[n.props.on]:void 0,f=u?{...n.props,on:u}:n.props,[p,c]=e.render(f),m=x(p);H(t,m,r,i,l,n,s,a);let d=Nt(n,{_content:m,_handle:e,_parent:o});e.setScheduleUpdate(()=>{l.enqueue(d,r,s)}),l.enqueueTasks(c)}function Me(e,t,n,r,i,l,o,s){if(e===null){t._handle=me({id:String(++ot),frame:n,type:t.type,raise:f=>{Re(f,t,i,n,r)},getContext:f=>St(l,f)}),P(t._handle,null,t,i,n,r,l,o,s);return}t._handle=e._handle;let{_content:a,_handle:u}=e;P(u,a,t,i,n,r,l,o,s)}function St(e,t){let n=e;for(;n;){if(n.type===t&&B(n))return n._handle.getContextValue();n=n._parent}}function g(e,t,n){if(ae(e)){t.removeChild(e._dom);return}if(se(e)){e._dom.dispatchEvent(pt({bubbles:!1})),t.removeChild(e._dom);let r=e._events;r&&n.enqueueTasks([()=>r.cleanup()]);return}if(A(e)){for(let r of e._children)g(r,t,n);return}if(U(e)){g(e._content,t,n);let r=e._handle.remove();n.enqueueTasks(r);return}if(A(e)){for(let r of e._children)g(r,t,n);return}if(ie(e)){for(let r of e._added)g(r,t,n);return}}function I(e,t,n,r,i,l,o,s){if(e===null){for(let f of t)o=_(f,n,r,i,l,s,o);return o}let a=e.length,u=t.length;for(let f=0;f<u;f++){let p=f<a?e[f]:null;H(p,t[f],n,r,i,l,s,o)}if(a>u)for(let f=u;f<a;f++){let p=e[f];p&&g(p,n,i)}}function ee(e,t){return Object.assign(e,t)}function Nt(e,t){return Object.assign(e,t)}function k(e,t){return Object.assign(e,t)}function te(e,t,n,r,i){let l=t._dom,o=t._events||K(l),s=e.props.on?Array.isArray(e.props.on)?e.props.on:[e.props.on]:[],u=xt(s,f=>Re(f,e,r,i,n));return n.enqueueTasks([()=>o.on(u)]),l.isConnected||n.enqueueTasks([()=>l.dispatchEvent(st({bubbles:!1}))]),t._events=o,Object.assign(e,t)}function le(e,t){let n=typeof e._fallback=="function"?e._fallback(t):e._fallback;return x(n)}function Re(e,t,n,r,i){let l=Et(t);if(l){let o=le(l,e),s=b(l)||ue(l,l._parent)||void 0;_(o,n,r,i,l,s);for(let a of l._added)g(a,n,i);k(l,{_tripped:!0,_added:[o]})}}function Et(e){let t=e;for(;t;){if(ie(t))return t;t=t._parent}return null}function xt(e,t){return Array.isArray(e)||(e=[e]),e.map(n=>{let r=n.handler;return Object.assign(n,{handler:(i,l)=>{try{return r(i,l)}catch(o){t(o)}}}),n})}function A(e){return e.type===S}function L(e){return e.type===N}function oe(e){return e.type===Q}function ae(e){return oe(e)&&e._dom instanceof Text}function fe(e){return typeof e.type=="string"}function se(e){return fe(e)&&e._dom instanceof Element}function At(e){return typeof e=="object"&&e!==null&&"$rmx"in e}function b(e){if(!e)return null;if(ae(e)||se(e))return e._dom;if(U(e))return b(e._content);if(A(e))for(let t of e._children){let n=b(t);if(n)return n}if(ie(e))for(let t of e._added){let n=b(t);if(n)return n}return null}function ue(e,t){if(!t||!Array.isArray(t._children))return null;let n=t._children,r=n.indexOf(e);if(r===-1)return null;for(let i=r+1;i<n.length;i++){let l=b(n[i]);if(l)return l}return null}function vt(e){for(;e&&e.nodeType===Node.COMMENT_NODE;)e=e.nextSibling;return e}var xn=Symbol("TOP_FRAME"),Tt={loadModule:async()=>{throw new Error("loadModule not implemented")},pendingHydrationRoots:new Map,src:"/",scheduler:ne(),resolveFrame:async()=>{throw new Error("resolveFrame not implemented")}};function je(e,t){let n={...Tt,...t},r=qe(e),i=n.scheduler,o={frame:O({src:n.src,reload:async()=>{let f=await n.resolveFrame(n.src);await s(f)},replace:async f=>{await s(f)}}),loadModule:n.loadModule,pendingRoots:n.pendingHydrationRoots,scheduler:n.scheduler,addFrame(f){let p=Rt(f),c=p.nextElementSibling;h(c instanceof HTMLScriptElement,"Invalid frame script");let m=$t(c);return je([f,p],{...n,src:m.src,marker:m}),c}};async function s(f){let p=typeof f=="string"?jt(f):f,c=qe(p);await Fe(c,o),he(r.childNodes,Array.from(c.childNodes),o),pe(r.childNodes,o)}async function a(){if(await Fe(r,o),pe(Array.from(r.childNodes),o),n.marker?.status==="pending"){let f=kt(n.marker.id);f?await s(f):Ot(n.marker.id,s)}}let u=a();return{render:s,ready:()=>u,flush:()=>i.dequeue()}}function kt(e){let t=document.querySelector(`template#${e}`);if(t instanceof HTMLTemplateElement){let n=t.content;return t.remove(),n}return null}function Ot(e,t){let n=new MutationObserver(async r=>{for(let i of r)for(let l of i.addedNodes)l instanceof HTMLTemplateElement&&l.id===e&&(n.disconnect(),l.remove(),t(l.content))});n.observe(document.body,{childList:!0})}function $t(e){let t=JSON.parse(e.textContent||"{}");return h(Mt(t)),t}function Mt(e){return typeof e=="object"&&e!==null&&"src"in e&&"id"in e&&"status"in e}function Rt(e){let t=e.nextSibling;for(;t&&t.nodeType!==8;)if(t=t.nextSibling,t instanceof Comment&&t.data.trim().startsWith("frame:end"))return t;throw new Error("End comment not found")}function Ft(e,t){let n=e.previousSibling;for(;n&&n.nodeType!==8;)if(n=n.previousSibling,n instanceof Comment&&n.data.trim()===t)return n;h(!1,"Start comment not found")}function qt(e,t,n,r){r.pendingRoots.delete(t);let i=re([t,n],{scheduler:r.scheduler,frame:r.frame});Object.defineProperty(t,"$rmx",{value:i,enumerable:!1}),i.render(e)}function pe(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(r instanceof Comment&&t.pendingRoots.has(r)){let i=t.pendingRoots.get(r);h(i,"Expected hydration element");let[l,o]=i;qt(o,r,l,t),n=e.indexOf(l)}if(It(r)){let i=t.addFrame(r);n=e.indexOf(i),i.remove()}else r.childNodes.length>0&&pe(Array.from(r.childNodes),t)}}function jt(e){let t=document.createElement("template");return t.innerHTML=e.trim(),t.content}function It(e){return e instanceof Comment&&e.data.trim().startsWith("frame:start:")}var Lt='script[type="application/json"][rmx-hydrated]';async function Fe(e,t){let n=Bt(e);await Promise.all(n.map(async r=>{let i=JSON.parse(r.textContent||"{}");h(Ut(i),"Invalid hydration script");let l=await t.loadModule(i.moduleUrl,i.exportName),o=de(l,i.props),[s,a]=Ht(r);t.pendingRoots.set(s,[a,o]),r.remove()}))}function Ht(e){let t=e.previousSibling;return h(t instanceof Comment,"Expected comment"),[Ft(t,"rmx:h"),t]}function Bt(e){return Array.from(e.root.querySelectorAll(Lt))}function Ut(e){return typeof e=="object"&&e!==null&&"moduleUrl"in e&&"exportName"in e&&"props"in e}function qe(e){return Array.isArray(e)?Wt(e):Vt(e)}function Vt(e){return{root:e,appendChild:t=>e.appendChild(t),get childNodes(){return Array.from(e.childNodes)},querySelectorAll:t=>Array.from(e.querySelectorAll(t)),querySelector:t=>e.querySelector(t),insertBefore:(t,n)=>e.insertBefore(t,n)}}function Wt(e){let t=e[1].parentNode;h(t,"Invalid comment container");let n=s=>{t.insertBefore(s,e[1])},r=()=>{let s=[],a=e[0].nextSibling;for(;a&&a!==e[1];)s.push(a),a=a.nextSibling;return s};return{get childNodes(){return r()},appendChild:n,querySelectorAll:s=>{let a=document.createRange();a.setStartAfter(e[0]),a.setEndBefore(e[1]);let u=t.querySelectorAll(s),f=[];for(let p=0;p<u.length;p++){let c=u[p];a.intersectsNode(c)&&f.push(c)}return f},querySelector:s=>{let a=document.createRange();a.setStartAfter(e[0]),a.setEndBefore(e[1]);let u=t.querySelectorAll(s);for(let f=0;f<u.length;f++){let p=u[f];if(a.intersectsNode(p))return p}return null},insertBefore:(s,a)=>{t.insertBefore(s,a)},root:t}}export{de as a,Ie as b,je as c};
//# sourceMappingURL=chunk-TLFW2ABB.js.map

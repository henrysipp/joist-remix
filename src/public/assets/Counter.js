import{a as v,b as k}from"./chunks/chunk-TLFW2ABB.js";function W(t,e){if(!e||Object.keys(e).length===0)return t;let r=new URLSearchParams,n=Object.keys(e).sort();for(let o of n)r.append(o,String(e[o]));return`${t}?${r.toString()}`}function p(t,e){return(r,n)=>({type:W(t,n),handler:r,isCustom:!0,factoryOptions:n,factory:e})}var M=!1;function m(...t){M&&console.log("DEBUG",...t)}function u(t,e){let r=[],n=[],o=l=>{l||(l=[]),Array.isArray(l)||(l=[l]),z(r,l)?(C(n),n=[],l.length>0&&L(t,l,n),r=l):G(r,l)},i=()=>{C(n),r=[],n=[]};return e?(o(e),i):{on:o,cleanup:i}}function g(t,e,r){return{type:t,handler:e,options:r}}function H(t,e){if(t===e)return!0;if(!t||!e||typeof t!="object"||typeof e!="object")return!1;let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let o of r)if(t[o]!==e[o])return!1;return!0}function D(t,e){return(r,n)=>{let o=new CustomEvent(e,{bubbles:!0,cancelable:!0,...r});if(n){let i=o.stopPropagation.bind(o);o.stopPropagation=()=>{i(),n.stopPropagation()}}t.dispatchEvent(o)}}function X(t,e,r){let n=new Set;for(let o of e){if(n.has(o.type))continue;n.add(o.type);let i=D(t,o.type),l=o.factory({dispatch:i,target:t},o.factoryOptions);if(l){let a=Array.isArray(l)?l:[l];r.push(...a)}}}function A(t,e,r,n){m("attach",{target:t,eventType:e,descriptors:r});let o=new Set;for(let i of r){let l=new AbortController,a=f=>{if(l.abort(new DOMException("Handler reentered","EventReentry")),l=new AbortController,m("wrappedHandler",{target:t,eventType:e,event:f}),o.has(f)){m("prevented",{target:t,eventType:e,event:f});return}let d=i.handler(f,l.signal);d instanceof Promise&&d.catch(s=>{if(!(s instanceof DOMException&&s.name==="EventReentry"))throw s}),f.defaultPrevented&&(o.add(f),setTimeout(()=>o.delete(f),0))};t.addEventListener(e,a,i.options),n.push(()=>{l.abort(),t.removeEventListener(e,a,i.options)})}}function Y(t,e,r){let n=new Map;for(let o of e)n.has(o.type)||n.set(o.type,[]),n.get(o.type).push(o);for(let[o,i]of n)A(t,o,i,r)}function $(t,e,r){let n=new Map;for(let o of e)n.has(o.type)||n.set(o.type,[]),n.get(o.type).push(o);for(let[o,i]of n)A(t,o,i,r)}function L(t,e,r){let{custom:n,standard:o}=F(e);X(t,n,r),$(t,n,r),Y(t,o,r)}function F(t){let e=[],r=[];for(let n of t)q(n)?e.push(n):r.push(n);return{custom:e,standard:r}}function q(t){return t.isCustom===!0}function z(t,e){if(t.length!==e.length)return!0;for(let r=0;r<t.length;r++){let n=t[r],o=e[r];if(n.type!==o.type||n.isCustom!==o.isCustom||!H(n.options,o.options)||!H(n.factoryOptions,o.factoryOptions))return!0}return!1}function G(t,e){for(let r=0;r<e.length;r++)t[r].handler=e[r].handler}function C(t){for(let e of t)e()}function y(){return new Proxy(function(e,r,n){return g(e,r,n)},{get(t,e){return typeof e=="string"?function(r,n){return g(e,r,n)}:t[e]}})}var b=y(),Z=y(),ee=y(),c=y(),te=y();function h(t,e){let r="Invariant";if(!t)throw new Error(e?`${r}: ${e}`:r)}function E(t,e){return t??e}function w(t,e,r={}){let n=t.getBoundingClientRect(),o=E(r.hit,10);return e.clientX>=n.left-o&&e.clientX<=n.right+o&&e.clientY>=n.top-o&&e.clientY<=n.bottom+o}function j(t,e,r={}){let n=t.getBoundingClientRect(),o=E(r.hit,10),i=E(r.release,10),l=o+i;return e.clientX>=n.left-l&&e.clientX<=n.right+l&&e.clientY>=n.top-l&&e.clientY<=n.bottom+l}var O=new WeakSet,I=p("pressDown",({dispatch:t,target:e},r={})=>{let n=l=>{if(l.button===0&&w(e,l,r)){let a=!O.has(l);a&&O.add(l),t({detail:{originalEvent:l,target:e,inputType:"pointer"},bubbles:a},l)}},o=l=>{(l.key===" "||l.key==="Enter")&&!l.repeat&&t({detail:{originalEvent:l,target:e,inputType:"keyboard"}},l)},i=()=>{};return[u(document,[c.pointerdown(n)]),u(e,[b.keydown(o),x(i)])]}),S=new WeakSet,x=p("pressUp",({dispatch:t,target:e},r={})=>{let n=i=>{if(j(e,i,r)){let l=!S.has(i);l&&S.add(i),t({detail:{originalEvent:i,target:e,inputType:"pointer"},bubbles:l},i)}},o=i=>{(i.key===" "||i.key==="Enter")&&t({detail:{originalEvent:i,target:e,inputType:"keyboard"}},i)};return[u(document,[c.pointerup(n)]),u(e,[b.keyup(o)])]}),K=p("longPress",({dispatch:t,target:e},r={})=>{let n,o=null,i=new Set,l=()=>{window.clearTimeout(n)},a=s=>{o=s.detail,l(),n=window.setTimeout(()=>{h(o),t({detail:o})},r.delay??500),o&&o.inputType==="pointer"&&i.add(o.originalEvent.pointerId)},f=()=>{l(),i.clear()},d=s=>{i.has(s.pointerId)&&(j(e,s,r)||(l(),i.delete(s.pointerId)))};return[u(e,[I(a,r),x(f,r)]),u(document,[c.pointermove(d)]),l]}),T=new WeakSet,U=p("press",({dispatch:t,target:e},r={})=>{let n=!1,o=!1,i=null,l=d=>{n=!0,o=!1,i=d.detail},a=()=>{o=!0,n=!1},f=()=>{if(n&&!o){h(i);let d=i.originalEvent,s=!T.has(d);s&&T.add(d),t({detail:i,bubbles:s},d)}n=!1};return u(e,[I(l,r),K(a,r),x(f,r)])}),B=p("outerPressDown",({dispatch:t,target:e},r={})=>u(document,[c.pointerdown(n=>{e instanceof Node&&n.target instanceof Node&&!e.contains(n.target)&&!w(e,n,r)&&t({bubbles:!1,detail:{originalEvent:n}},n)})])),V=p("outerPressUp",({dispatch:t,target:e},r={})=>{let n=!1,o=null;return[u(e,[B(i=>{n=!0,o=i.detail.originalEvent},r)]),u(document,[c.pointerup(i=>{n&&e instanceof Node&&i.target instanceof Node&&!e.contains(i.target)&&!w(e,i,r)&&(h(o),t({bubbles:!1,detail:{originalEvent:o}},o)),n=!1})])]}),se=p("outerPress",({dispatch:t,target:e},r={})=>{let n=!1,o=null,i=a=>{n=!0,o=a.detail.originalEvent},l=()=>{n&&(h(o),t({bubbles:!1,detail:{originalEvent:o}},o)),n=!1};return u(e,[B(i,r),V(l,r)])});function R(t,e,r){return N(t,e,r)}function P(t,e,r){return N(t,e,r)}function N(t,e,r){return r!==void 0&&(e={...e,key:r}),v(t,e)}var me=k("/assets/Counter.js#Counter",function({}){let t=0,e=()=>{t=t+1,this.update()};return()=>P("div",{children:[P("p",{children:["Count: ",t]}),R("button",{on:U(()=>e()),children:"Add"})]})});export{me as Counter};
//# sourceMappingURL=Counter.js.map

import{a as D,b as q}from"./chunks/chunk-TLFW2ABB.js";function ie(t,e){if(!e||Object.keys(e).length===0)return t;let r=new URLSearchParams,s=Object.keys(e).sort();for(let i of s)r.append(i,String(e[i]));return`${t}?${r.toString()}`}function m(t,e){return(r,s)=>({type:ie(t,s),handler:r,isCustom:!0,factoryOptions:s,factory:e})}var ne=!1;function $(...t){ne&&console.log("DEBUG",...t)}function p(t,e){let r=[],s=[],i=n=>{n||(n=[]),Array.isArray(n)||(n=[n]),pe(r,n)?(W(s),s=[],n.length>0&&ue(t,n,s),r=n):de(r,n)},a=()=>{W(s),r=[],s=[]};return e?(i(e),a):{on:i,cleanup:a}}function A(t,e,r){return{type:t,handler:e,options:r}}function U(t,e){if(t===e)return!0;if(!t||!e||typeof t!="object"||typeof e!="object")return!1;let r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(let i of r)if(t[i]!==e[i])return!1;return!0}function ae(t,e){return(r,s)=>{let i=new CustomEvent(e,{bubbles:!0,cancelable:!0,...r});if(s){let a=i.stopPropagation.bind(i);i.stopPropagation=()=>{a(),s.stopPropagation()}}t.dispatchEvent(i)}}function le(t,e,r){let s=new Set;for(let i of e){if(s.has(i.type))continue;s.add(i.type);let a=ae(t,i.type),n=i.factory({dispatch:a,target:t},i.factoryOptions);if(n){let l=Array.isArray(n)?n:[n];r.push(...l)}}}function O(t,e,r,s){$("attach",{target:t,eventType:e,descriptors:r});let i=new Set;for(let a of r){let n=new AbortController,l=h=>{if(n.abort(new DOMException("Handler reentered","EventReentry")),n=new AbortController,$("wrappedHandler",{target:t,eventType:e,event:h}),i.has(h)){$("prevented",{target:t,eventType:e,event:h});return}let u=a.handler(h,n.signal);u instanceof Promise&&u.catch(o=>{if(!(o instanceof DOMException&&o.name==="EventReentry"))throw o}),h.defaultPrevented&&(i.add(h),setTimeout(()=>i.delete(h),0))};t.addEventListener(e,l,a.options),s.push(()=>{n.abort(),t.removeEventListener(e,l,a.options)})}}function oe(t,e,r){let s=new Map;for(let i of e)s.has(i.type)||s.set(i.type,[]),s.get(i.type).push(i);for(let[i,a]of s)O(t,i,a,r)}function he(t,e,r){let s=new Map;for(let i of e)s.has(i.type)||s.set(i.type,[]),s.get(i.type).push(i);for(let[i,a]of s)O(t,i,a,r)}function ue(t,e,r){let{custom:s,standard:i}=fe(e);le(t,s,r),he(t,s,r),oe(t,i,r)}function fe(t){let e=[],r=[];for(let s of t)ce(s)?e.push(s):r.push(s);return{custom:e,standard:r}}function ce(t){return t.isCustom===!0}function pe(t,e){if(t.length!==e.length)return!0;for(let r=0;r<t.length;r++){let s=t[r],i=e[r];if(s.type!==i.type||s.isCustom!==i.isCustom||!U(s.options,i.options)||!U(s.factoryOptions,i.factoryOptions))return!0}return!1}function de(t,e){for(let r=0;r<e.length;r++)t[r].handler=e[r].handler}function W(t){for(let e of t)e()}function w(){return new Proxy(function(e,r,s){return A(e,r,s)},{get(t,e){return typeof e=="string"?function(r,s){return A(e,r,s)}:t[e]}})}var k=w(),He=w(),je=w(),g=w(),ze=w();function x(t,e){let r="Invariant";if(!t)throw new Error(e?`${r}: ${e}`:r)}function P(t,e){return t??e}function M(t,e,r={}){let s=t.getBoundingClientRect(),i=P(r.hit,10);return e.clientX>=s.left-i&&e.clientX<=s.right+i&&e.clientY>=s.top-i&&e.clientY<=s.bottom+i}function G(t,e,r={}){let s=t.getBoundingClientRect(),i=P(r.hit,10),a=P(r.release,10),n=i+a;return e.clientX>=s.left-n&&e.clientX<=s.right+n&&e.clientY>=s.top-n&&e.clientY<=s.bottom+n}var B=new WeakSet,Y=m("pressDown",({dispatch:t,target:e},r={})=>{let s=n=>{if(n.button===0&&M(e,n,r)){let l=!B.has(n);l&&B.add(n),t({detail:{originalEvent:n,target:e,inputType:"pointer"},bubbles:l},n)}},i=n=>{(n.key===" "||n.key==="Enter")&&!n.repeat&&t({detail:{originalEvent:n,target:e,inputType:"keyboard"}},n)},a=()=>{};return[p(document,[g.pointerdown(s)]),p(e,[k.keydown(i),L(a)])]}),V=new WeakSet,L=m("pressUp",({dispatch:t,target:e},r={})=>{let s=a=>{if(G(e,a,r)){let n=!V.has(a);n&&V.add(a),t({detail:{originalEvent:a,target:e,inputType:"pointer"},bubbles:n},a)}},i=a=>{(a.key===" "||a.key==="Enter")&&t({detail:{originalEvent:a,target:e,inputType:"keyboard"}},a)};return[p(document,[g.pointerup(s)]),p(e,[k.keyup(i)])]}),me=m("longPress",({dispatch:t,target:e},r={})=>{let s,i=null,a=new Set,n=()=>{window.clearTimeout(s)},l=o=>{i=o.detail,n(),s=window.setTimeout(()=>{x(i),t({detail:i})},r.delay??500),i&&i.inputType==="pointer"&&a.add(i.originalEvent.pointerId)},h=()=>{n(),a.clear()},u=o=>{a.has(o.pointerId)&&(G(e,o,r)||(n(),a.delete(o.pointerId)))};return[p(e,[Y(l,r),L(h,r)]),p(document,[g.pointermove(u)]),n]}),K=new WeakSet,X=m("press",({dispatch:t,target:e},r={})=>{let s=!1,i=!1,a=null,n=u=>{s=!0,i=!1,a=u.detail},l=()=>{i=!0,s=!1},h=()=>{if(s&&!i){x(a);let u=a.originalEvent,o=!K.has(u);o&&K.add(u),t({detail:a,bubbles:o},u)}s=!1};return p(e,[Y(n,r),me(l,r),L(h,r)])}),_=m("outerPressDown",({dispatch:t,target:e},r={})=>p(document,[g.pointerdown(s=>{e instanceof Node&&s.target instanceof Node&&!e.contains(s.target)&&!M(e,s,r)&&t({bubbles:!1,detail:{originalEvent:s}},s)})])),ge=m("outerPressUp",({dispatch:t,target:e},r={})=>{let s=!1,i=null;return[p(e,[_(a=>{s=!0,i=a.detail.originalEvent},r)]),p(document,[g.pointerup(a=>{s&&e instanceof Node&&a.target instanceof Node&&!e.contains(a.target)&&!M(e,a,r)&&(x(i),t({bubbles:!1,detail:{originalEvent:i}},i)),s=!1})])]}),Be=m("outerPress",({dispatch:t,target:e},r={})=>{let s=!1,i=null,a=l=>{s=!0,i=l.detail.originalEvent},n=()=>{s&&(x(i),t({bubbles:!1,detail:{originalEvent:i}},i)),s=!1};return p(e,[_(a,r),ge(n,r)])});function ye(t){let e=new TextEncoder().encode(t),r;if("Buffer"in globalThis&&!("Bun"in globalThis||"Deno"in globalThis))r=(s,i=0)=>Buffer.prototype.indexOf.call(s,e,i);else{let s=e.length-1,i=new Uint8Array(256).fill(e.length);for(let a=0;a<s;++a)i[e[a]]=s-a;r=(a,n=0)=>{let l=a.length,h=n+s;for(;h<l;){for(let u=s,o=h;u>=0&&a[o]===e[u];--u,--o)if(u===0)return o;h+=i[a[h]]}return-1}}return r}var Ke=ye(`\r
\r
`),we=1024,Ge=1024*we;var Ye=new TextDecoder("utf-8",{fatal:!0});function xe(t){let e,r,s,i,a,n=t.indexOf("?");n!==-1&&(a=[n+1,t.length],t=t.slice(0,n));let l=0,h=t.indexOf("://");if(h!==-1){h!==0&&(e=[0,h]),l=h+3;let u=t.indexOf("/",l);u===-1&&(u=t.length);let o=t.lastIndexOf(":",u-1);if(o!==-1&&o>=l){let f=!0;for(let c=o+1;c<u;c++){let d=t.charCodeAt(c);if(d<48||d>57){f=!1;break}}f&&o+1<u?(r=[l,o],s=[o+1,u]):r=[l,u]}else r=[l,u];l=u===t.length?u:u+1}return l!==t.length&&(t.charAt(l)==="/"&&(l+=1),i=[l,t.length]),{protocol:e,hostname:r,port:s,pathname:i,search:a}}function ve(t){let e=new Map;for(let r of t.split("&")){if(r==="")continue;let s=r.indexOf("=");if(s===-1){let l=y(r);e.get(l)||e.set(l,{requireAssignment:!1,allowBare:!0});continue}let i=y(r.slice(0,s)),a=r.slice(s+1),n=e.get(i);if(n?(n.requireAssignment=!0,n.allowBare=!1):(n={requireAssignment:!0,allowBare:!1},e.set(i,n)),a.length>0){let l=y(a);n.requiredValues||(n.requiredValues=new Set),n.requiredValues.add(l)}}return e}function be(t){t.startsWith("?")&&(t=t.slice(1));let e=new Set,r=new Set,s=new Map;if(t.length>0)for(let i of t.split("&")){if(i==="")continue;let a=i.indexOf("=");if(a===-1){let o=y(i);e.add(o);continue}let n=y(i.slice(0,a)),l=i.slice(a+1);r.add(n);let h=y(l),u=s.get(n)??new Set;s.has(n)||s.set(n,u),u.add(h)}return{namesWithoutAssignment:e,namesWithAssignment:r,valuesByKey:s}}function y(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return t}}var S=class extends Error{source;position;partName;constructor(t,e,r,s){super(`${t} in ${e}`),this.name="ParseError",this.source=r,this.position=s,this.partName=e}};function Z(t){let e,r,s,i,a,n,l=xe(t);return l.protocol&&(e=R("protocol","",t,...l.protocol)),l.hostname&&(r=R("hostname",".",t,...l.hostname)),l.port&&(s=t.slice(...l.port)),l.pathname&&(i=R("pathname","/",t,...l.pathname)),l.search&&(a=t.slice(...l.search),n=ve(a)),{protocol:e,hostname:r,port:s,pathname:i,search:a,searchConstraints:n}}var J=/^[a-zA-Z_$][a-zA-Z_$0-9]*/;function R(t,e,r,s,i){let a=[],n=a,l=[a],h=[],u=f=>{let c=n.at(-1);c?.type==="text"?c.value+=f:n.push({type:"text",value:f})},o=s;for(;o<i;){let f=r[o];if(f===e){n.push({type:"separator"}),o+=1;continue}if(f===":"){o+=1;let c=r.slice(o,i),d=J.exec(c)?.[0];if(!d)throw new S("missing variable name",t,r,o);n.push({type:"variable",name:d}),o+=d.length;continue}if(f==="*"){o+=1;let c=r.slice(o,i),d=J.exec(c)?.[0];d?(n.push({type:"wildcard",name:d}),o+=d.length):n.push({type:"wildcard"});continue}if(f==="("){l.push(n=[]),h.push(o),o+=1;continue}if(f===")"){if(l.length===1)throw new S("unmatched )",t,r,o);let c=l.pop();n=l[l.length-1],n.push({type:"optional",tokens:c}),h.pop(),o+=1;continue}if(f==="\\"){let c=r.at(o+1);if(!c||o+1>=i)throw new S("dangling escape",t,r,o);u(c),o+=2;continue}u(f),o+=1}if(h.length>0)throw new S("unmatched (",t,r,h[0]);return a}var Q=class extends Error{paramName;constructor(t){super(`Missing required parameter: ${t}`),this.name="MissingParamError",this.paramName=t}};function Se(t,e,r){e=e??{};let s="";if(t.hostname!=null){let i=t.protocol!=null?E(t.protocol,"",e):"https",a=E(t.hostname,".",e),n=t.port!=null?`:${t.port}`:"";s+=`${i}://${a}${n}`}if(t.pathname!=null){let i=E(t.pathname,"/",e);s+=i.startsWith("/")?i:`/${i}`}else s+="/";return r?s+=`?${new URLSearchParams(r)}`:t.search&&(s+=`?${t.search}`),s}function E(t,e,r){let s="";for(let i of t)if(i.type==="variable"||i.type==="wildcard"){let a=i.name??"*";if(r[a]==null)throw new Q(a);s+=String(r[a])}else if(i.type==="text")s+=i.value;else if(i.type==="separator")s+=e;else if(i.type==="optional")try{s+=E(i.tokens,e,r)}catch(a){if(!(a instanceof Q))throw a}return s}function Ce(t){let e="";if(t.hostname!=null){let r=t.protocol!=null?T(t.protocol):"",s=t.hostname!=null?T(t.hostname,"."):"",i=t.port!=null?`:${t.port}`:"";e+=`${r}://${s}${i}`}if(t.pathname!=null){let r=T(t.pathname,"/");e+=H(t.pathname)?r:`/${r}`}else e+="/";if(t.search)e+=`?${t.search}`;else if(t.searchConstraints!=null){let r=Ee(t.searchConstraints);r!==""&&(e+=`?${r}`)}return e}function H(t){if(t.length===0)return!1;let e=t[0];return e.type==="separator"?!0:e.type==="optional"&&e.tokens&&e.tokens.length>0?H(e.tokens):!1}function T(t,e=""){let r="";for(let s=0;s<t.length;s++){let i=t[s];i.type==="variable"?r+=`:${i.name}`:i.type==="wildcard"?r+=`*${i.name??""}`:i.type==="text"?r+=i.value:i.type==="separator"?r+=e:i.type==="optional"&&(r+=`(${T(i.tokens,e)})`)}return r}function Ee(t){let e=[];for(let[r,s]of t.entries())if(s.allowBare&&!s.requireAssignment)e.push(r);else if(s.requiredValues&&s.requiredValues.size>0)for(let i of s.requiredValues)e.push(`${r}=${i}`);else s.requireAssignment&&e.push(`${r}=`);return e.join("&")}function Te(t,e){let{protocol:r,hostname:s,port:i}=e.hostname!=null?e:t,a=$e(t.pathname,e.pathname),n=Ae(t.searchConstraints,e.searchConstraints);return Ce({protocol:r,hostname:s,port:i,pathname:a,searchConstraints:n})}function $e(t,e){if(e==null||e.length===0)return t;if(t==null||t.length===0)return e;let r=[...t];r.length>0&&r[r.length-1].type==="separator"&&r.pop();let s=H(e);return e.length===1&&e[0].type==="separator"||(s||r.push({type:"separator"}),r.push(...e)),r}function Ae(t,e){if(e==null)return t;if(t==null)return e;let r=new Map(t);for(let[s,i]of e.entries()){let a=r.get(s);if(a==null)r.set(s,i);else{let n={requireAssignment:a.requireAssignment||i.requireAssignment,allowBare:a.allowBare&&i.allowBare,requiredValues:void 0};(a.requiredValues||i.requiredValues)&&(n.requiredValues=new Set([...a.requiredValues||[],...i.requiredValues||[]])),r.set(s,n)}}return r}var b=class ee{source;ignoreCase;#e;#t;constructor(e,r){this.source=typeof e=="string"?e:e.source,this.ignoreCase=r?.ignoreCase===!0,this.#e=Z(this.source)}href(...e){return Se(this.#e,...e)}join(e){let r=Z(typeof e=="string"?e:e.source);return new ee(Te(this.#e,r),{ignoreCase:this.ignoreCase})}match(e){typeof e=="string"&&(e=new URL(e));let{matchOrigin:r,matcher:s,paramNames:i}=this.#r(),a=this.ignoreCase?e.pathname.toLowerCase():e.pathname,n=s.exec(r?`${e.origin}${a}`:a);if(n===null)return null;let l={};for(let h=0;h<i.length;h++){let u=i[h];l[u]=n[h+1]}return this.#e.searchConstraints!=null&&!Pe(e.search,this.#e.searchConstraints)?null:{url:e,params:l}}#r(){return this.#t?this.#t:(this.#t=ke(this.#e,this.ignoreCase),this.#t)}test(e){return this.match(e)!==null}toString(){return this.source}};function ke(t,e){let{protocol:r,hostname:s,port:i,pathname:a}=t,n=s!==void 0,l,h=[];if(n){let u=r?v(r,"",".*",h,!0):"[^:]+",o=s?v(s,".","[^.]+?",h,!0):"[^/:]+",f=i!==void 0?`:${N(i)}`:"(?::[0-9]+)?",c=a?v(a,"/","[^/]+?",h,e):"";l=new RegExp(`^${u}://${o}${f}/${c}$`)}else{let u=a?v(a,"/","[^/]+?",h,e):"";l=new RegExp(`^/${u}$`)}return{matchOrigin:n,matcher:l,paramNames:h}}function v(t,e,r,s,i){let a="";for(let n of t)n.type==="variable"?(s.push(n.name),a+=`(${r})`):n.type==="wildcard"?n.name?(s.push(n.name),a+="(.*)"):a+="(?:.*)":n.type==="text"?a+=N(i?n.value.toLowerCase():n.value):n.type==="separator"?a+=N(e):n.type==="optional"&&(a+=`(?:${v(n.tokens,e,r,s,i)})?`);return a}function N(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Pe(t,e){let{namesWithoutAssignment:r,namesWithAssignment:s,valuesByKey:i}=be(t);for(let[a,n]of e){let l=s.has(a),h=r.has(a),u=i.get(a);if(n.requiredValues&&n.requiredValues.size>0){if(!u)return!1;for(let o of n.requiredValues)if(!u.has(o))return!1;continue}if(n.requireAssignment){if(!l)return!1;continue}if(!(l||h))return!1}return!0}var C=class{method;pattern;constructor(t,e){this.method=t,this.pattern=typeof e=="string"?new b(e):e}href(...t){return this.pattern.href(...t)}match(t){return this.pattern.match(t)}};function j(t,e){return typeof t=="string"||t instanceof b?F(typeof t=="string"?new b(t):t,e):F(new b("/"),t)}function F(t,e){let r={};for(let s in e){let i=e[s];i instanceof C?r[s]=new C(i.method,t.join(i.pattern)):typeof i=="string"||i instanceof b?r[s]=new C("ANY",t.join(i)):typeof i=="object"&&i!=null&&"pattern"in i?r[s]=new C(i.method??"ANY",t.join(i.pattern)):r[s]=F(t,i)}return r}var Me=["POST","PUT","PATCH","DELETE","OPTIONS"],Xe=["GET","HEAD",...Me];var Le=["index","new","show","create","edit","update","destroy"];function z(t,e){let r=e?.only??Le,s=e?.param??"id",i=e?.names?.index??"index",a=e?.names?.new??"new",n=e?.names?.show??"show",l=e?.names?.create??"create",h=e?.names?.edit??"edit",u=e?.names?.update??"update",o=e?.names?.destroy??"destroy",f={};return r.includes("index")&&(f[i]={method:"GET",pattern:"/"}),r.includes("new")&&(f[a]={method:"GET",pattern:"/new"}),r.includes("show")&&(f[n]={method:"GET",pattern:`/:${s}`}),r.includes("create")&&(f[l]={method:"POST",pattern:"/"}),r.includes("edit")&&(f[h]={method:"GET",pattern:`/:${s}/edit`}),r.includes("update")&&(f[u]={method:"PUT",pattern:`/:${s}`}),r.includes("destroy")&&(f[o]={method:"DELETE",pattern:`/:${s}`}),j(t,f)}var te=j({assets:"/assets/*path",home:z("/",{only:["index"]}),authors:z("/authors",{only:["index","show","new","create","destroy"]})});function re(t,e,r){return se(t,e,r)}function I(t,e,r){return se(t,e,r)}function se(t,e,r){return r!==void 0&&(e={...e,key:r}),D(t,e)}var ht=q(te.assets.href({path:"Counter.js#Counter"}),function({}){let t=0,e=()=>{t=t+1,this.update()};return()=>I("div",{children:[I("p",{children:["Count: ",t]}),re("button",{on:X(()=>e()),children:"Add"})]})});export{ht as Counter};
//# sourceMappingURL=Counter.js.map
